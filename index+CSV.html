<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AiFangKids é¸å“ - All</title>
    
    <style>
        /* ------------------------------------
           é€šç”¨é‡ç½®èˆ‡å­—é«”è¨­å®š (ç²‰åœ“é«”)
        ------------------------------------ */
        @import url('https://fonts.googleapis.com/css2?family=Huninn&display=swap');

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: 'Huninn', 'Noto Sans TC', Arial, sans-serif; 
            color: #333;
            background-color: #fff;
            line-height: 1.5;
            font-size: 14px; 
        }
        
        a {
            text-decoration: none;
            color: inherit;
        }

        ul {
            list-style: none;
        }
        
        button {
            border: none;
            background: none;
            cursor: pointer;
            padding: 0;
            color: inherit;
            font-family: inherit;
        }

        .wrapper {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* ------------------------------------
           é é¦– (Header)
        ------------------------------------ */
        #header {
            border-bottom: 1px solid #f0f0f0;
            padding: 15px 0;
            background: #fff;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-inner {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: 700;
            letter-spacing: -1px;
        }

        .header-icons span {
            font-size: 18px;
            margin-left: 15px;
            cursor: pointer;
        }

        /* ------------------------------------
           ä¸»å…§å®¹ä½ˆå±€ (Main Layout)
        ------------------------------------ */
        #main-layout {
            display: flex;
            padding: 40px 20px;
            max-width: 1200px;
            margin: 0 auto;
            gap: 40px;
        }

        /* ------------------------------------
           å´é‚Šæ¬„ (Sidebar) - é›»è…¦ç‰ˆ
        ------------------------------------ */
        #sidebar-filter {
            width: 220px;
            flex-shrink: 0;
            position: sticky;
            top: 100px;
            align-self: flex-start;
            /* è®“ç¯©é¸å™¨å¯ä»¥æ²å‹• */
            max-height: calc(100vh - 120px);
            overflow-y: auto;
            scrollbar-width: none; /* Firefox */
        }

        #sidebar-filter::-webkit-scrollbar {
            display: none; /* Chrome, Safari */
        }

        .filter-section {
            margin-bottom: 30px;
        }

        .filter-section h4 {
            font-size: 15px;
            margin-bottom: 12px;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
            color: #888;
        }

        .filter-list li {
            margin-bottom: 8px;
        }

        .filter-btn {
            display: block;
            width: 100%;
            text-align: left;
            font-size: 14px;
            padding: 6px 0;
            cursor: pointer;
            transition: 0.2s;
        }

        .filter-btn:hover, .filter-btn.active {
            color: #000;
            font-weight: 700;
        }

        /* ------------------------------------
           å•†å“å±•ç¤ºå€ (Product Grid)
        ------------------------------------ */
        #content-area {
            flex-grow: 1;
            min-width: 0;
        }

        .category-title {
            font-size: 22px;
            margin-bottom: 30px;
            padding-bottom: 10px;
            border-bottom: 1px solid #eee;
        }

        .product-grid {
            /* Desktop: 4 æ¬„ä½ˆå±€ */
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 30px;
        }

        .product-item {
            transition: transform 0.3s;
        }

        .product-image-box {
            position: relative;
            margin-bottom: 12px;
            overflow: hidden;
            border-radius: 4px;
            background: #f9f9f9;
        }

        .product-image {
            width: 100%;
            /* åœ–ç‰‡æ¯”ä¾‹ 3:4 */
            aspect-ratio: 3 / 4; 
            object-fit: cover;
            display: block;
        }

        .brand-tag {
            position: absolute;
            top: 10px;
            left: 10px;
            background: rgba(0,0,0,0.7);
            color: #fff;
            font-size: 10px;
            padding: 3px 8px;
            border-radius: 2px;
            z-index: 10;
        }

        .product-name {
            font-size: 14px;
            margin-bottom: 5px;
            display: block;
        }

        .price-box .original-price {
            color: #aaa;
            text-decoration: line-through;
            font-size: 12px;
            margin-right: 5px;
        }

        .price-box .discount-price {
            font-weight: 700;
            font-size: 15px;
            color: #e74c3c; /* å„ªæƒ åƒ¹ä½¿ç”¨ç´…è‰² */
        }
        
        /* ------------------------------------
           Footer (é å°¾)
        ------------------------------------ */
        #footer {
            margin-top: 60px;
            padding: 40px 0;
            border-top: 1px solid #f0f0f0;
            background-color: #f7f7f7;
        }

        .footer-cols {
            display: flex;
            justify-content: space-around;
            gap: 40px;
            margin-bottom: 30px;
        }

        .customer-center, .company-info {
            flex: 1;
            min-width: 250px;
        }

        .footer-cols h3 {
            font-size: 16px;
            margin-bottom: 15px;
            color: #555;
            border-bottom: 1px solid #ddd;
            padding-bottom: 5px;
        }

        .footer-cols p {
            margin-bottom: 8px;
            line-height: 1.8;
            color: #777;
        }

        .copyright {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid #eee;
            color: #999;
            font-size: 12px;
        }

        /* ------------------------------------
           éŸ¿æ‡‰å¼è¨­è¨ˆ (æ‰‹æ©Ÿéš±è—å´é‚Šæ¬„ï¼Œèª¿æ•´ä½ˆå±€)
        ------------------------------------ */
        @media (max-width: 768px) {
            #main-layout { flex-direction: column; padding: 20px 15px; gap: 0; }
            /* æ‰‹æ©Ÿç‰ˆéš±è—æ•´å€‹å´é‚Šæ¬„ */
            #sidebar-filter { display: none; }
            .product-grid { 
                grid-template-columns: repeat(2, 1fr); 
                gap: 15px; 
            }
            .category-title { font-size: 18px; margin-bottom: 20px; }
            .logo { font-size: 20px; }
            
            .footer-cols { flex-direction: column; gap: 20px; }
            .customer-center, .company-info { min-width: auto; }
        }
    </style>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.2/papaparse.min.js"></script>
</head>
<body>
    <header id="header">
        <div class="header-inner wrapper">
            <a href="index.html" class="logo">AiFangKids é¸å“</a>
            <div class="header-icons">
                <span onclick="location.href='cart.html'">ğŸ›’</span>
            </div>
        </div>
    </header>

    <div id="main-layout">
        <nav id="sidebar-filter">
            <div class="filter-section">
                <h4>ç†±é–€åˆ†é¡</h4>
                <ul class="filter-list">
                    <li><button class="filter-btn active" data-filter="all">å…¨éƒ¨å•†å“</button></li>
                    <li><button class="filter-btn" data-filter="new">æœ¬é€±æ–°å“</button></li>
                    <li><button class="filter-btn" data-filter="sale">é™æ™‚ç‰¹åƒ¹</button></li>
                </ul>
            </div>
            <div class="filter-section">
                <h4>å•†å“åˆ†é¡</h4>
                <ul class="filter-list category-filter-list">
                    <li><button class="filter-btn" data-filter="ä¸Šç€">ä¸Šè¡£</button></li>
                    <li><button class="filter-btn" data-filter="ä¸‹ç€">ä¸‹è‘—</button></li>
                    <li><button class="filter-btn" data-filter="é…ä»¶">é…ä»¶</button></li>
                </ul>
            </div>
        </nav>

        <main id="content-area">
            <h2 class="category-title">æ‰€æœ‰å•†å“</h2>
            <ul class="product-grid">
                <p>å•†å“è¼‰å…¥ä¸­...</p>
            </ul>
        </main>
    </div>
    
    <footer id="footer">
        <div class="wrapper footer-cols">
            <div class="customer-center">
                <h3>CUSTOMER CENTER</h3>
                <p>MAIL: aifangkids@gmail.com</p>
                <p>æœå‹™æ™‚é–“: AM 10:00 - PM 21:00</p>
                <p>é€±æœ«èˆ‡åœ‹å®šå‡æ—¥ä¼‘æ¯ï¼Œè¨‚å–®åŠå‡ºè²¨å°‡æ–¼å·¥ä½œæ—¥ç‚ºæ‚¨è™•ç†</p>
            </div>
            <div class="company-info">
                <h3>COMPANY INFO</h3>
                <p>å…¬å¸åç¨±: ç’¦åŠç«¥è£</p>
                <p>çµ±ä¸€ç·¨è™Ÿ: 95294390</p>
            </div>
        </div>
        <div class="copyright wrapper">
            <p>Copyright Â© **Aifang Kids Studio** All rights reserved.</p>
        </div>
    </footer>


    <script>
        // è¨­å®š CSV æª”æ¡ˆè·¯å¾‘
        const CSV_URL = 'SHOP å¾Œç«¯åŠæ™‚æ›´æ–°å•†å“è³‡è¨Š - å•†å“è³‡æ–™.csv';

        function loadProducts() {
            Papa.parse(CSV_URL, {
                download: true, // å…è¨±å¾é ç«¯è·¯å¾‘ä¸‹è¼‰
                header: true,   // å°‡ç¬¬ä¸€è¡Œä½œç‚ºç‰©ä»¶çš„éµå€¼ (key)
                skipEmptyLines: true, // è·³éç©ºç™½è¡Œ
                complete: function(results) {
                    const data = results.data;
                    const grid = document.querySelector('.product-grid');
                    grid.innerHTML = ''; // æ¸…ç©ºè¼‰å…¥ä¸­çš„æç¤º

                    // å„²å­˜æ‰€æœ‰åˆ†é¡ï¼Œç”¨æ–¼å‹•æ…‹ç”Ÿæˆå´é‚Šæ¬„æŒ‰éˆ• (é€²éšå„ªåŒ–)
                    // const categories = new Set(); 
                    
                    data.forEach(item => {
                        // æª¢æŸ¥æ˜¯å¦æœ‰å¿…è¦æ¬„ä½ï¼Œä¸¦ç¢ºä¿æœ‰åƒ¹æ ¼ï¼Œé¿å…è®€åˆ°ç„¡æ•ˆçš„è³‡æ–™
                        if (item['å•†å“åç¨±'] && item['ä¸»åœ–é€£çµ'] && item['åƒ¹æ ¼-20%OFF']) {
                            
                            // ä¿®æ­£ CSV ä¸­çš„è·¯å¾‘å•é¡Œï¼šå°‡æœ¬æ©Ÿè·¯å¾‘è½‰ç‚ºç›¸å°è·¯å¾‘
                            // å‡è¨­ 'C:\\Users\\DCT\\OneDrive\\æ¡Œé¢\\flask_shop\\static\\images\\vividi_01.jpg' æ‡‰è©²æ˜¯ '/static/images/vividi_01.jpg'
                            // é€™è£¡æˆ‘å€‘ç›´æ¥ä½¿ç”¨ä¸»åœ–é€£çµçš„å…§å®¹ï¼Œä½†å»ºè­°æ‚¨åœ¨ CSV ä¸­ä½¿ç”¨å¯ä¾›ç¶²é å­˜å–çš„ URL
                            const imageUrl = item['ä¸»åœ–é€£çµ']; // ä¿æŒ CSV ä¸­çš„å…§å®¹ï¼Œè‹¥ç„¡æ³•é¡¯ç¤ºè«‹ä¿®æ­£ CSV

                            const productHTML = `
                                <li class="product-item" data-category="${item['åˆ†é¡']}">
                                    <a href="detail.html?item_code=${item['è²¨è™Ÿ']}">
                                        <div class="product-image-box">
                                            <div class="brand-tag">${item['å“ç‰Œ']}</div>
                                            <img src="${imageUrl}" class="product-image" alt="${item['å•†å“åç¨±']}">
                                        </div>
                                        <span class="product-name">${item['å•†å“åç¨±']}</span>
                                        <div class="price-box">
                                            <span class="original-price">${item['åƒ¹æ ¼']} TWD</span>
                                            <span class="discount-price">${item['åƒ¹æ ¼-20%OFF']} TWD</span>
                                        </div>
                                    </a>
                                </li>
                            `;
                            grid.innerHTML += productHTML;
                            // categories.add(item['åˆ†é¡']);
                        }
                    });
                    
                    // console.log("æ‰€æœ‰å•†å“è³‡æ–™å·²è¼‰å…¥:", data);
                }
            });
        }

        // é é¢è¼‰å…¥å¾ŒåŸ·è¡Œ
        window.onload = loadProducts;
    </script>
</body>
</html>